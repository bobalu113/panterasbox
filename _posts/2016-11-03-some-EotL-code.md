---
published: true
category: blog
layout: blog
---

In addition to the professional code I wrote about in my last post, I also added a selection of LPC code I wrote for End of the Line, the LP MUD where I first got started amateur programming. It's a smattering of stuff I wrote over the last 20 years, so obviously some of it I'm more proud of than others. I'm really trying to steer my career towards working in the games industry right now, so I thought it'd be nice to show off some of what I've done in that area. In chronological order:

#### games/ ####

Some of the first code I ever wrote were text versions of different classic games. The simplest of the bunch was Mastermind, it almost feels like a port of something I might have done for a CS class and ported over. After that I probably did Minesweeper. Between those two I covered learning all the basic data types and string manipulation. I also did Stratego, which was the first two-player game. I remember it was the first time I had to think about client-server design, and I remember making a conscious decision not to use a dedicated server. 

Then I did Shift-Connect 4, which was a complete hack job. Shift-Connect 4 is a variant of Connect 4 with a 4x4 grid and "shift"-able rows which you can use move existing pieces laterally instead of adding a new piece to the board. Someone before me had written classic Connect 4, and I started by copying their code and hacking my modified ruleset into it. I remember it being kind of a pain, and it got me thinking more about how to write maintainable code. The last game in the games/ dir is an LPC version of Set, the Mensa card game. I wrote it later, after I'd moved on to working more on the platform, but I just really love that game and wanted to be able to play it on MUD.

#### stuff/ ####

StuffCode is probably what I'm most known for creating by the player population. I used to play a lot of Nethack, and I loved the variety of items you could find while crawling the dungeon. The MUD had potions and scrolls before StuffCode, but the APIs were very general and the implementations of different properties on the items varied a lot depending on the developer. StuffCode provided some uniformity across the different item types and individual item implementations. Experiences like blessing, cursing and item identification were handled in the core and the implementing code was limited to just handling the effects.

The idea for StuffCode grew out of the Etc Guild, which was a guild Reverend and I created that offered a bunch of skills that we coded around the same time as one another, but that otherwise had no thematic connection. The guild never really went anywhere as an organization, but it gave me the idea to create a general repository for magic objects that may not home a specific home in an existing area or guild. Sometimes an idea for an interesting game experience strikes you and you have nowhere to stage it; with StuffCode you could just create the experience in isolation, model it as a scroll or potion or whatever, and the StuffCode framework would stage it for you. To do this, there is a central StuffServer which is in charge of injecting or withdrawing items from the game.

People really took the StuffCode concept and ran with it. I started the project with just four item types: scrolls, potions, rings, and amulets; but other wizards have expanded it to include altars, artifacts, traps and wands. In addition to the StuffCode core code that I uploaded to github, people have written almost 100 different stuff items for the general repository. Ironically, despite it being the game element I'm probably most often complimented on now, it actually took like two years after I first put it online for anyone to notice it. That was probably my biggest takeaway from the project: sometimes good ideas take a while to sink in…

#### tpa/ ####

…And then again, sometimes good ideas go nowhere. That's the story of the EotL Teleport Authority. It was conceived as a way to standardize fast-travel between areas. EotL has an inordinate number of trans objects, and I've never really liked them. I'm not talking about general-use magic items or spells that have been thoughtfully balanced; I'm talking about entry objects for specific areas often created in lieu of fitting the area into the existing EotL landscape. They can really interrupt your experience of the game, and because of the proliferation of non-teleport rooms, their utility is really inconsistent (how should I know that the daisy which teleports you to McDonalds doesn't work on a castle drawbridge in some completely unrelated area?) Non-portable trans objects are a little better, especially if they're in keeping with the theme of the area they trans you to, but I still think it makes more sense for the player to pass through a real room exit rather than just vanish in a cloud of smoke. For gabbo, I've introduced the concept of inter-zone exits vs. intra-zone exits for just this purpose.

My eventual goal with the TPA was to yank most of the area-specific trans objects from the game and replace them with a network of fast-travel points. At each location is a TPA console, which allows teleportation to one or more other TPA locations by use of a portable TPA card. Each card has a list of allowed destinations which gets expanded as you find more TPA consoles (scanning your card at any TPA console permits future travel to that point). If there's a thematic reason for keeping around any of the old trans objects, they could be retooled to upgrade your TPA card instead of doing the actual teleportation.

I didn't want to pull the old trans objects, though, until the bulk of the TPA network had been filled out. I  onlined the framework and put up consoles in a handful of select locations, with the hope that other wizards would follow suit, but that never really happened. I think part of the reason it never took off is that getting the wizards to make their areas less accessible in some cases is a tough sell. Mostly though, by the time I onlined it we'd lost of the of the wizards actively maintaining areas. I've often thought about making some tools that would let players build out the network instead, but after asking around about the idea, I'm still not sure there's enough interest.

The tpa/ directory also contains the code for the Eternal City TPA Terminal, if you want to see what an implementation looks like.

#### ratelimit/ ####

A rate limiter I adapted from http://www-uxsup.csx.cam.ac.uk/~fanf2/hermes/doc/antiforgery/ratelimit.html. It's not really anything special. We had a griefer that was trying to DOS attack us, but he gave up before I ever had a chance to tune the thing. I mostly included it as an example of the sort of code I write for EotL in the present day. I've kinda put all my eggs in the gabbo basket, so I've stopped really trying to improve any of the existing game systems and am mostly in maintenance mode. If people make enough noise about something I'll try and address it (for instance putting up the eotl.panterasbox.com web portal), so you get little one offs like this one. Even though I never onlined it, it's good to have in our back pocket in case any users start giving us trouble again.

#### condos/ ####

The Eternal Arms Interdimensional Condominiums. Player-owned dwellings have a storied history on EotL and sadly none of the old systems are online anymore. These days, most players use private "treehouses" that expire after a reboot instead. These treehouses are pretty popular, so there's clearly a demand for personal spaces in the game. That was never the real driving force behind resurrecting condos, though. In the future, it's my intent to convert EotL to the gabbo platform and run the existing mudlib in a "compatability" mode. In effect, there would then be "old EotL" and "new EotL," each with entirely different backend libraries and content. The first bits of content to be created for this "new EotL" would be the insides of the player owned condominiums, so the Eternal Arms Condominium complex would be your gateway from one game to the other, thus the "interdimensional" quality. Once you're inside a player's condo, that would allow you to access whatever expanded content the players and wizards chose to craft for the new lib.

I started writing the condos before I even started writing gabbo, and finished everything up to the point where you actually have to interface with the new platform. Except for that last bit and some room descriptions, they're basically done. There's an office where you can purchase a new condo and change your locks, an elevator to take you between floors of building, and dynamic hallways which allow access to the individual condos. The only thing missing is an entirely new game platform and the compatibility mode which at this point is purely theoretical. Even though all that's a long way from being finished, sometimes it's nice to load up the empty condo complex in Old Eternal City and imagine what could be.
