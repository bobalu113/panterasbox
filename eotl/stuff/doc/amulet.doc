==[ AmuletStuff Documentation]=============================================

This is the document for AmuletStuff, one of the child modules in the 
StuffCode package.  AmuletStuff adds functionality to the core StuffCode 
module for the wearing and removing of amulets.  It inherits StuffCode, so 
if you haven't yet read the primary StuffCode document, you should do that 
first.  All the functions referred to in that document are available in 
AmuletStuff.

In addition to the StuffCode core, AmuletStuff provides the "wear" and 
"remove" commands for users and set of functions associated with those 
actions.  The syntax for the wear and remove commands are "wear amulet" 
and "remove amulet" and though they resemble the commands in the player 
body, they are not.  StuffCode amulets are unlike AmuletCode amulets in 
that they do not inherit ArmorCode or conform to any of the armor 
standards set up in the player body.  A player may only wear one StuffCode 
amulet at a time, though he may end up wearing multiple amulets if he is 
concurrently using ArmorCode amulets.  Since all items of StuffCode dawn 
the "Stuff, Inc" logo, it should be easily identifiable to any mortal 
which amulets use which codeset by looking at the long description.

Support for StuffCode amulets is actually divided into two sister modules; 
AmuletStuff is the inheritable for the amulet itself, but in order for the 
amulet to function properly you must also provide an associated shadow.  
The shadow object will inherit AmuletStuffShadow, and then go on to define 
a set of functions that will overload functions in the player body.  All 
the shadowing and unshadowing mechanisms are already present in the 
AmuletStuffShadow module, so the overloaded functions are the only ones 
you should be writing.  There are, however, a few utility functions you 
might make use of which are described below.

Cursed amulets may not be removed until they are uncursed.  All the 
messages printed to the room and the user are also provided for in 
AmuletStuff, but you may wish to add additional messages of your own.  The 
rest of this document is a description of the functions that make up the 
AmuletStuff API.


====[ AmuletStuff Functions ]==============================================

set( "shadow_file", str );
   This string is the path to the shadow that will be placed on the player
   when the amulet is worn.  If it does not load or is somehow invalid, the
   amulet will not function properly.

set( "wear_delay", int );
   This combat delay will be issued to a player when he wears the amulet.
   Defaults to 1.

set( "remove_delay", int );
   This combat delay will be issued to a player when he removes the amulet.
   Defaults to 1.
   
int try_wear( object who );
   If this function returns true, wearing the amulet will be prevented.
   If you prevent wearing, you will probably also want to issue some
   message to the user.

void wear_signal( object who );
   This is called after the amulet has been worn and the shadow is in
   effect.  Here you might want to do things common to item usage,
   regardless of whether it has been cursed or blessed (ie. identify
   the amulet).

int try_remove( object who );
   If this function returns true, removing the amulet will be prevented.
   If you prevent removal, you will probably also want to issue some
   message to the user.  (Note: try_remove() automatically returns 1 for
   cursed amulets.)

void remove_signal( object who );
   This is called after the amulet has been removed and the shadow has
   been destructed.  Here you might want to do things common to item 
   usage, regardless of whether it has been cursed or blessed (ie. identify
   the amulet).

int query_worn();
   This function returns true if the amulet is currently being worn.
   
object amulet_stuff_shadow();
   This function returns an object reference to the shadow that is 
   currently placed on the wearer of the amulet, or 0 if the amulet isn't
   being worn.


====[ AmuletStuffShadow Functions ]========================================

object amulet_stuff();
   This function returns an object reference to the AmuletStuff object that
   is associated with the current AmuletStuffShadow object.

object amulet_stuff_shadow();
   This function returns the current AmuletStuffShadow object.  Calling
   player->amulet_stuff_shadow() is an easy way to find out if he is
   currently wearing an AmuletStuff amulet.
 
object host();
   This function returns an object reference to the player wearing the
   amulet.

int amulet_cursed();
   This function is a shortcut for amulet_stuff()->query_cursed().
   
int amulet_uncursed();
   This function is a shortcut for amulet_stuff()->query_uncursed().

int amulet_blessed();
   This function is a shortcut for amulet_stuff()->query_blessed().


==[ EOF ]==================================================================
